% This work is licensed under the Creative Commons
% Attribution-NonCommercial-ShareAlike 4.0 International License. To view a copy
% of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/ or
% send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

% THEOREM-ENVIRONMENTS

% Quelle f√ºr die Gestaltung der folgenden environments ist:
%
% https://texblog.org/2015/09/25/fancy-boxes-for-theorem-lemma-and-proof-with-mdframed/
%

% importing the package
\usepackage[framemethod=TikZ]{mdframed}

% setting counters
\newcounter{theo}[section]\setcounter{theo}{0}
\renewcommand{\thetheo}{\arabic{section}.\arabic{theo}}

\newenvironment{theo}[2][]{
	% code for counter
	\refstepcounter{theo}

	% box design code
	\ifstrempty{#1}
	% if no title
	{
		\mdfsetup{
			frametitle={
				\tikz[baseline,outer sep=0pt]
				\node[anchor=east,rectangle,fill=black!25]
				{\strut Theorem~\thetheo};
			}
		}
	}
	% if title
	{
		\mdfsetup{
			frametitle={
				\tikz[baseline,outer sep=0pt]
				\node[anchor=east,rectangle,fill=black!25]
				{\strut Theorem~\thetheo:~#1};
			}
		}
	}
	% defaults
	\mdfsetup{
		innertopmargin=10pt,
		linecolor=black!25,
		linewidth=2pt,
		topline=true,
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax
	}

	% code for environment name
	\begin{mdframed}[]\relax\label{#2}}
	{\end{mdframed}
}

